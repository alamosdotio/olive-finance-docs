# How Pool Works

## Liquidity Pool

The Jupiter Perpetuals exchange is a trader-to-LP exchange, which means traders borrow tokens from the liquidity pool (the JLP pool) to trade with leverage. Instead of periodic funding payments between long and short traders, Jupiter Perpetuals uses an **hourly borrow fee** model. Traders pay fees to the pool based on how much they borrow. These fees help balance the pool and reward liquidity providers (LPs).

## Add/Remove Liquidity

When users add liquidity to the JLP pool, they increase the Total Value Locked (TVL), boosting available liquidity for perps trading. The pool currently consists of: **USDC, USDT, SOL, wBTC, and ETH**.

### Adding Liquidity

LPs can acquire JLP by swapping for it using [Jupiter Swap](https://jup.ag/swap/USDC-JLP), which finds the best route to get JLP. This could involve buying it on the market or swapping into a supported asset and depositing it directly. While JLP minting is active, deposited assets are added to the relevant pool and the protocol re-prices TVL in USD.

### Removing Liquidity

To exit, LPs can simply sell their JLP via Jupiter Swap. Swapping JLP burns the token and returns the equivalent amount from the pool in the chosen asset. Alternatively, JLP can be transferred to another user.

### Purchasing/Exiting JLP

Using [Jupiter Swap](https://jup.ag/swap/USDC-JLP) or apps integrated with it ensures automatic minting and burning of JLP. It also finds optimal routes, including other DEXes if better prices are available.

## Yield Generation

The platform earns fees in multiple ways:

* **75%** of all trading and borrow fees go back into the pool.
* These are **compounded hourly**.

## Estimated Yield

To estimate revenue:

* Daily Volume: \$50M
* Fee: 0.06%
* Revenue share to JLP pool: 75%

Estimated:

```
$50,000,000 x 0.06% x 75% = $22,500
```

To estimate your share:

```
(your_contribution / total_pool) x 100
```

Example:

```
$1,000 / $4,000,000 x 100 = 0.025%
$22,500 x 0.00025 = $5.625
```

## Fee Distribution and APY Calculation

### Hourly Fee Distribution

Fees are distributed hourly (at the start of every UTC hour). 75% of realized fees are returned to the pool, and 25% go to Jupiter as protocol revenue.

### Weekly APR Updates

* JLP APR updates weekly.
* Uses `pool_apr.last_updated` timestamp to trigger update.

#### APR Formula

```python
if current_time > (last_updated_time + 1_WEEK):
    time_diff = current_time - last_updated_time
    apr_bps = (realized_fee_usd * YEAR_IN_SECONDS * 10_000) / (pool_amount_usd * time_diff)
```

## Risks

### 1. Bull Markets

JLP may underperform compared to individual tokens like SOL, ETH, or BTC during bull markets because it includes stablecoins.

### 2. Trader PnL Impact

Trader profits and losses directly affect the pool:

* Profitable trades are paid from the pool.
* Losing trades add funds to the pool.

**Example:** If a long trader profits, the pool loses token quantity but may retain USD value if token prices have risen.

## Pool Weightage

*This section is under construction. Content coming soon.*

## Maintaining Target Weight

*Content coming soon.*

## Failsafe Mechanism

*Content coming soon.*
